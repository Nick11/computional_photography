function [ output_args ] = foobarize( color_channel, transform2x2, medU, medV, colV, mask)
%FOOBARIZE Summary of this function goes here
%   Detailed explanation goes here



    knownCU = colV(1)*color_channel;
    knownCV = colV(2)*color_channel;

    delU = medU-knownCU;
    delV = medV-knownCV;
    
    other2Channels = transform2x2\[delU(:),delV(:)]';
    % mask it for red channel

    serialized_red_mask = mask(:)';

    abc = [red(:)'.*serialized_red_mask; rr(1,:).*serialized_red_mask; rr(2,:).*serialized_red_mask];
    ttt = reshape(abc', 500, 500, 3);


    %blue
    red = blue_c;%final_img(:,:,3);
    red_known = rgb2yuv_transform(2:end, 1:end-1);
    red_v = rgb2yuv_transform(2:end, 3);

    U_red = red_v(1)*red;
    V_red = red_v(2)*red;

    del_U = med_U-U_red;
    del_V = med_V-V_red;
    A = reshape([del_U(:),del_V(:)], 1000, 500)';
    rr = red_known\[del_U(:),del_V(:)]';
    % mask it for red channel
        blue_mask = zeros(500, 500);
        blue_mask(2:2:end, 2:2:end) = 1;
    serialized_red_mask = blue_mask(:)';



    abc = [red(:)'.*serialized_red_mask; rr(1,:).*serialized_red_mask; rr(2,:).*serialized_red_mask];
    ttt = ttt + reshape(abc', 500, 500, 3);

end

